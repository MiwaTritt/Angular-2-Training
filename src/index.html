<!DOCTYPE html>

<html>
  <head>
    <base href="/">
    <title>Welcome to Angular 2!</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
  </head>
  <body>
    <main>Loading...</main>
  </body>
  <script>

    //resolve and reject are both functions passed in by Promise API
    const youngMan = new Promise(function youngLady(resolve, reject){
      setTimeout(function() {
        resolve("she is madly in love");
        //reject("i fell in love with your bestfriend");
      }, 4000);
    });

    //registering a callback function - will be invoked in the future
    //only defining function and passing reference to it for future use
    //will be invoked when promise is resolved
    youngMan.then(function(results) {
      console.log(results);
      console.log("she said yes");

      // return new Promise((resolve, reject) => {
      //   setTimeout(function(){
      //      resolve("Fannie Mae Cafeteria");
      //   }, 4000);
      // });

      //will execute immediately because it's a value - resolved promise
      //return "Fannie Mae";
      //will exceute immediately b/c returned undefined - resolved promise
      //return;
      return Promise.reject("last minute change, bride says no...");
    }).then(function(results){
      console.log("Getting married in " + results);
    //called if reject()
    //if any previous promises are rejected this catch will be executed
    }).catch(function(results){
      console.log(results);
      console.log("she said no");
    })

    console.log("young man is waiting...");




  //   try {
  //     throw Error("something went wrong");
  //     setTimeout(function() {
  //       console.log('did it!');
  //     }, 2000)
  //     console.log('waiting');
  //   } catch (err) {
  //     console.log('I was caught');
  //   }


  // //outer pointing 
  //   function outer() {
  //     var t = 2;

  //     setTimeout(function() {
  //       t = 4;
  //     }, 2000);

  //     return function inner() {
  //       console.log(t);
  //     };
  //     inner();
  //   }
  //   var fn = outer ();
  //   //closure reference
  //   fn();

  //   setTimeout(function() {
  //     fn();
  //   }, 4000);    

    //console.dir(fn)
  </script>
</html>
